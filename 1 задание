# Dyn6. Кузнечик. На числовой прямой в точке 0 находится кузнечик. Он 
# умеет прыгать только вперед, передвигаясь на число от 1 до L, т.е. из точки K он 
# может переместиться в точку K+1, K+2, ... , K+L за один прыжок. На некоторых 
# делениях числовой оси находятся лягушки, которые поедают кузнечиков Cчитая, 
# что лягушки никуда не перемещаются, определите, сколько существует 
# различных безопасных путей кузнечика, чтобы попасть из точки 0 в точку N. 
# Ввод и вывод организовать при помощи текстовых файлов. Формат входных 
# данных: в первой строке входного файла записаны числа N и L (1<N<30, 1<L<15), 
# во второй строке указано несколько чисел - позиции в которых находятся 
# лягушки. В выходной файл нужно вывести 1 число: количество различных 
# безопасных путей.

with open('first.txt', 'r') as f:
    N, L = map(int, f.readline().split())
    frogs = list(map(int, f.readline().split()))

K = [0] * (N + 1)
K[0] = 1

for i in range(1, N + 1):
    for j in range(1, L + 1):
        if i - j < 0:
            break
        if i - j in frogs:
            continue
        K[i] += K[i - j]

with open('second.txt', 'w') as f:
    f.write(str(K[N]))
